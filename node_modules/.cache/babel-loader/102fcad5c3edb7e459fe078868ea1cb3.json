{"ast":null,"code":"var _jsxFileName = \"/Users/liuxinyu/Desktop/ScribeAR.github.io/src/components/MiddleSpace/Loudness/index.js\";\nimport React, { Component } from 'react';\nimport AudioAnalyser from './AudioAnalyser';\n\nclass Index extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      audio: null\n    };\n    this.toggleMicrophone = this.toggleMicrophone.bind(this);\n  }\n\n  async getMicrophone() {\n    const audio = await navigator.mediaDevices.getUserMedia({\n      audio: true,\n      video: false\n    });\n    this.setState({\n      audio\n    });\n  }\n\n  stopMicrophone() {\n    this.state.audio.getTracks().forEach(track => track.stop());\n    this.setState({\n      audio: null\n    });\n  }\n\n  toggleMicrophone() {\n    if (this.state.audio) {\n      this.stopMicrophone();\n    } else {\n      this.getMicrophone();\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"controls\",\n      style: {\n        height: \"100%\",\n        width: \"100%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.toggleMicrophone,\n      style: {\n        position: \"fixed\",\n        top: \"35vh\",\n        left: \"30vw\",\n        width: \"10vw\",\n        height: \"10vh\",\n        fontSize: \"1.5vw\",\n        textAlign: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, this.state.audio ? 'Stop MIC' : 'Get MIC input')), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, this.state.audio ? React.createElement(AudioAnalyser, {\n      audio: this.state.audio,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }) : ''));\n  }\n\n}\n\nexport default Index;","map":{"version":3,"sources":["/Users/liuxinyu/Desktop/ScribeAR.github.io/src/components/MiddleSpace/Loudness/index.js"],"names":["React","Component","AudioAnalyser","Index","constructor","props","state","audio","toggleMicrophone","bind","getMicrophone","navigator","mediaDevices","getUserMedia","video","setState","stopMicrophone","getTracks","forEach","track","stop","render","height","width","position","top","left","fontSize","textAlign"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,aAAP,MAA0B,iBAA1B;;AAEA,MAAMC,KAAN,SAAoBF,SAApB,CAA8B;AAC5BG,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAClB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,KAAK,EAAE;AADI,KAAb;AAID,SAAKC,gBAAL,GAAwB,KAAKA,gBAAL,CAAsBC,IAAtB,CAA2B,IAA3B,CAAxB;AACA;;AAED,QAAMC,aAAN,GAAsB;AACnB,UAAMH,KAAK,GAAG,MAAMI,SAAS,CAACC,YAAV,CAAuBC,YAAvB,CAAoC;AACtDN,MAAAA,KAAK,EAAE,IAD+C;AAEtDO,MAAAA,KAAK,EAAE;AAF+C,KAApC,CAApB;AAIA,SAAKC,QAAL,CAAc;AAAER,MAAAA;AAAF,KAAd;AACD;;AAEDS,EAAAA,cAAc,GAAG;AACd,SAAKV,KAAL,CAAWC,KAAX,CAAiBU,SAAjB,GAA6BC,OAA7B,CAAqCC,KAAK,IAAIA,KAAK,CAACC,IAAN,EAA9C;AACA,SAAKL,QAAL,CAAc;AAAER,MAAAA,KAAK,EAAE;AAAT,KAAd;AACD;;AAEDC,EAAAA,gBAAgB,GAAG;AAClB,QAAI,KAAKF,KAAL,CAAWC,KAAf,EAAsB;AACpB,WAAKS,cAAL;AACD,KAFD,MAEO;AACL,WAAKN,aAAL;AACD;AACF;;AAGDW,EAAAA,MAAM,GAAG;AACN,WAEI;AAAK,MAAA,SAAS,EAAC,UAAf;AAA0B,MAAA,KAAK,EAAI;AAACC,QAAAA,MAAM,EAAC,MAAR;AAAeC,QAAAA,KAAK,EAAC;AAArB,OAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAQ,MAAA,OAAO,EAAE,KAAKf,gBAAtB;AAAwC,MAAA,KAAK,EAAI;AACjDgB,QAAAA,QAAQ,EAAC,OADwC;AAEjDC,QAAAA,GAAG,EAAC,MAF6C;AAGjDC,QAAAA,IAAI,EAAC,MAH4C;AAIjDH,QAAAA,KAAK,EAAC,MAJ2C;AAKjDD,QAAAA,MAAM,EAAC,MAL0C;AAMjDK,QAAAA,QAAQ,EAAE,OANuC;AAOjDC,QAAAA,SAAS,EAAE;AAPsC,OAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OASC,KAAKtB,KAAL,CAAWC,KAAX,GAAmB,UAAnB,GAAgC,eATjC,CADF,CADF,EAcE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAM,KAAKD,KAAL,CAAWC,KAAX,GAAmB,oBAAC,aAAD;AAAe,MAAA,KAAK,EAAE,KAAKD,KAAL,CAAWC,KAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAnB,GAAgE,EAAtE,CAdF,CAFJ;AAqBD;;AAtD0B;;AAyD9B,eAAeJ,KAAf","sourcesContent":["import React, { Component } from 'react';\nimport AudioAnalyser from './AudioAnalyser';\n\nclass Index extends Component {\n  constructor(props) {\n   super(props);\n   this.state = {\n     audio: null\n   };\n\n  this.toggleMicrophone = this.toggleMicrophone.bind(this);\n }\n\n async getMicrophone() {\n    const audio = await navigator.mediaDevices.getUserMedia({\n      audio: true,\n      video: false\n    });\n    this.setState({ audio });\n  }\n\n  stopMicrophone() {\n     this.state.audio.getTracks().forEach(track => track.stop());\n     this.setState({ audio: null });\n   }\n\n   toggleMicrophone() {\n    if (this.state.audio) {\n      this.stopMicrophone();\n    } else {\n      this.getMicrophone();\n    }\n  }\n\n\n  render() {\n     return (\n\n         <div className=\"controls\" style = {{height:\"100%\",width:\"100%\"}}>\n           <div>\n             <button onClick={this.toggleMicrophone} style = {{\n             position:\"fixed\",\n             top:\"35vh\",\n             left:\"30vw\",\n             width:\"10vw\",\n             height:\"10vh\",\n             fontSize: \"1.5vw\",\n             textAlign: \"center\"\n           }}>\n             {this.state.audio ? 'Stop MIC' : 'Get MIC input'}\n           </button>\n         </div>\n           <div>{this.state.audio ? <AudioAnalyser audio={this.state.audio} /> : ''}</div>\n\n         </div>\n\n     );\n   }\n}\n\nexport default Index;\n"]},"metadata":{},"sourceType":"module"}